## Week 7 ARTS
------
### [A] - LC: 398. Random Pick Index
------
```java
package leetcode;

import java.util.*;

/**
 * 398. Random Pick Index
 *
 * Given an array of integers with possible duplicates, randomly output the index of a
 * given target number. You can assume that the given target number must exist in the array.
 *
 * Note:
 * The array size can be very large. Solution that uses too much extra space will not pass the judge.
 *
 * Example:
 *
 * int[] nums = new int[] {1,2,3,3,3};
 * Solution solution = new Solution(nums);
 *
 * // pick(3) should return either index 2, 3, or 4 randomly. Each index should have equal
 * probability of returning.
 * solution.pick(3);
 *
 * // pick(1) should return 0. Since in the array only nums[0] is equal to 1.
 * solution.pick(1);
 */

public class RandomPickIndex398 {
  private Map<Integer, List<Integer>> map;

  /**
   * Solution here is to use HashMap record all the indexes,
   * then get random from target number list
   */
  public RandomPickIndex398(int[] nums) {
    map = new HashMap<>();
    for (int i = 0; i < nums.length; i++) {
      List<Integer> curr = map.containsKey(nums[i]) ? map.get(nums[i]) : new ArrayList<>();
      curr.add(i);
      map.put(nums[i], curr);
    }
  }

  public int pick(int target) {
    Random random = new Random();
    List<Integer> idxs = map.get(target);
    return idxs.get(random.nextInt(idxs.size()));
  }
  public static void main(String[] args) {
    RandomPickIndex398 test = new RandomPickIndex398(new int[]{1, 2, 3, 4, 3, 3, 5, 6, 5, 4,3});
    System.out.println(test.pick(3));
    System.out.println(test.pick(3));
    System.out.println(test.pick(4));
    System.out.println(test.pick(5));
    System.out.println(test.pick(4));
  }
}

```
```java
package leetcode;

/**
 * 395. Longest Substring with At Least K Repeating Characters
 *
 * Find the length of the longest substring T of a given string (consists of lowercase
 * letters only) such that every character in T appears no less than k times.
 *
 * Example 1:
 *
 * Input:
 * s = "aaabb", k = 3
 *
 * Output:
 * 3
 *
 * The longest substring is "aaa", as 'a' is repeated 3 times.
 * Example 2:
 *
 * Input:
 * s = "ababbc", k = 2
 *
 * Output:
 * 5
 *
 * The longest substring is "ababb", as 'a' is repeated 2 times and 'b' is repeated 3 times.
 */


public class LongestSubstringwithAtLeastKRepeatingCharacters395 {
  /**
   * solution here is hinted by LC discussion Nakanu (using divide and conquer (recursive)
   * First find out the frequency less than k.
   * From that point, divide array into left and right two parts.
   * Calculate the longest substring, then compare left and right, return longest one.
   * Continue divide until it didn't find the frequency less than k or the frequency of
   * the substring characters are all less than k.
   */
  public int longestSubstring(String s, int k) {
    if (k == 1) return s.length();
    char[] str = s.toCharArray();
    return helper(str,0,s.length(),k);
  }
  private int helper(char[] str, int start, int end,  int k){
    //substring length shorter than k.
    if (end - start < k) return 0;
    int[] count = new int [26];
    // record each element frequency
    for (int i = start; i < end; i++) {
      count[str[i] - 'a']++;
    }
    for (int i = 0; i < 26; i++) {
      //count[i]=0 => i+'a' does not exist in the string, skip it.
      if (count[i] < k && count[i] > 0) {
        for (int j = start; j < end; j++) {
          // found frequency less than k and the position of the element, divide from this position
          if (str[j] - 'a' == i) {
            int left = helper(str, start, j, k);
            int right = helper(str, j + 1, end, k);
            // always return the longest one
            return Math.max(left, right);
          }
        }
      }
    }
    return end - start;
  }

  public static void main(String[] args) {
    LongestSubstringwithAtLeastKRepeatingCharacters395 test =
        new LongestSubstringwithAtLeastKRepeatingCharacters395();
    test.longestSubstring("ababbc", 2);
    test.longestSubstring("aaaaaaaa", 2);
    test.longestSubstring("aabdbccabbc", 2);
    test.longestSubstring("ababbcb", 3);
    test.longestSubstring("", 2);
    // this case, we can add the case to handle, return the original string length.
    test.longestSubstring("ababbc", 1);
  }
}

```

### [R] - Design a Twitter
------
Questions to ask yourself before dig deeper:


### [T] - Interview Tips 
------
I have been interviewer for a while now, most of time I interview a coding session or peer presentation session, when coding session, I usually ask a candidate a midium level algorithm questions, will have follow ups if the candidate finishs the question very quick.

For coding session, don't jump right into the solution, try to clearify problem with interviewer, and ask some questions (maybe some candidate have already seen the questions before, so you don't need to be hurry on it, ask some corner case questions, like whether the array is fixed array, or is it a stream data? or whether the array contains duplicate elements etc). When you stuck, don't stuck there, interviewer is willing to help, and assume that interviewer may not know the solution either, so you both will discuss the solutions, and improve the solution together (interviwer also want to know whether he/she is happy to work with you together as a potential co-worker within an hour).

- **Ask questions, Ask questions, Ask questions** 

For system design session, usually the question will be vague, you must **ask questions**, and list data (if you are not sure, ask). 

- Understand / be clear about the requirements.
- Do Analysis (list the functions/objects you will need for the question)
- Using Data to support your architecture, the more detailed, the more convinced.
- QPS (query per second), Peak data.

E.g Designing a Scalable Uber system

- What business values we need to deliver?
  list the obejcts, Uber, has Rider (request a ride), Driver(receive a request), Payment(pay and go)
- What is the maximum distance between a driver and a rider for a driver to be visible to a user?
- Are we supporting pool?
- What is the criterion to show a shared driver to a user?
- How to divid the shared pool?
- How many requests(QPS) should the system handle?
- What happens when multiple users request the same driver?
- Does this system require high consistency/high availability/persistency?
...

Play a role that you are working with the interviewers. Be nervous is normal, ask questions when you are not sure. 

#### References
[1][System Design Primer](https://github.com/donnemartin/system-design-primer)
[2][System Design Interview](https://github.com/checkcheckzz/system-design-interview)

### [S] - [Share some Podcasts I daily listen](https://www.evernote.com/l/AeMkAvWwCilO94LkwRtEv1TTAT2X8NOT7iw)
------ 
Personal opinions:
- Making use of your daily fragment time.
- Listen to English podcasts can practice your listening.
- Learn what is going on in your daily life / world.
- Get some knowledge on history/tech/life experiences/business

Podcasts recommendation (some of personal favorites):
- [Accidental tech Podcast](http://atp.fm/)
ATP is a podcast about Tech, Apple and related matters, that was created while trying trying to do a car show.
hosted byMarco Arment, Casey Liss, and John Siracusa.

- [The Talk Show](http://5by5.tv/talkshow)
The Talk Show features discussion about technology, Apple, Mac, iPhone, iPad, movies, directors, and the Web. It’s America’s favorite podcast. 
Hosted by John Gruber, and Dan Benjamin

- [Google Cloud Platform Podcast](https://www.gcppodcast.com/)
Weekly talk about GCP, and other products by talking to googlers and other tech leaders
Hosted by Mark Mandel and Melanie Warrick

- [路书](https://lushu88.com/)
由古村和瞿侠老师引领大家一起讨论艺术史和历史的一档播客

- [选美](http://xuanmei.us/)
聊聊美国那些事

- [天书广播](https://player.fm/series/series-1403151)
张湛博士说历史,奇闻逸事

- [忽左忽右](https://huzuohuyou.podbean.com/)
程衍樑和杨一发起并制作的谈话类播客节目。我们将每期邀请一位在专业领域拥有足够发言权的嘉宾，尽我们所能，探索在某个单一问题上所能达到的讨论深度。

- [硬影像](https://hardimage.pro/)
罗登主持，是一个关注影像之一切的播客。谈论影像背后的技术，历史和哲理。

- [Sinica Podcast - Weekly discussion of current affairs in China](https://player.fm/series/sinica-podcast-weekly-discussion-of-current-affairs-in-china-1466873)
A weekly discussion of current affairs on China with journalists, writers, academics, policy makers, business people and anyone with something compelling to say about the country that's reshaping the world. Sinica is hosted by Kaiser Kuo and Jeremy Goldkorn.

- [996 Podcast with GGV Capital](https://996.ggvc.com/podcast/)
“996” is the demanding work schedule many Chinese founders have organically adopted: 9am to 9pm, 6 days a week. To us, 996 captures the intensity, drive, and speed of Chinese internet companies, many of which are moving faster than their American counterparts.

- [Business Wars](https://wondery.com/shows/business-wars/)
Business wars gives you the unauthorized, real story of what drives these companies and their leaders, inventors, investors and executives to new heights or to ruin.
Hosted by David D. Brown

- [Acquired](http://www.acquired.fm/)
A podcast about technology acquisitions and IPOs.
Acquired goes behind the scenes of the best (and worst) acquisitions and IPOs of all time. From the Instagram A+'s to the AOL-Time Warner fails, what can we learn from their journeys and apply to our own organizations and careers in business and in tech?
Hosted by @gilbert and @djrosent.

- [Planet Money NPR](https://www.npr.org/podcasts/510289/planet-money)
The economy explained. Imagine you could call up a friend and say, "Meet me at the bar and tell me what's going on with the economy.

- [NPR politics podcast](https://www.npr.org/podcasts/510310/npr-politics-podcast)
The NPR Politics Podcast is where NPR's political reporters talk to you like they talk to each other. With weekly roundups and quick takes on news of the day, you don't have to keep up with politics to know what's happening.

- [NPR How I Built this](https://www.npr.org/podcasts/510313/how-i-built-this)
Guy Raz dives into the stories behind some of the world's best known companies. How I Built This weaves a narrative journey about innovators, entrepreneurs and idealists—and the movements they built

- [The American Life](https://www.thisamericanlife.org/) 
This American Life is a weekly public radio program and podcast. Each week we choose a theme and put together different kinds of stories on that theme. 
